var DriftMapTimeline = function(){
	// Private Variables

	/*
		ex indexer[x] = {
			id: "<Corresponding Route ID>",
			< TimelineJS3 data... >
		}
	*/
	var indexer = []
	var currentTimeline
	var currentSlide

	// Private Methods
	function focusTimeline(tl, slide){

	}

	function renderTimeline(dom, tlData, opts){

	}

	return {
		// public variables

		// public methods
		init: function(routes){
			/*
			{ 
				51: {
					route: { 
						id: 51, 
						description: "My gonzo adventure into Colombia in…", 
						title: "2015 - Colombia", 
						post_id: 1, 
						created_at: "2016-12-03T20:05:51.694Z", 
						updated_at: "2016-12-03T20:05:51.694Z", 
						coverphoto: {
						url: 'assets/asfd.png'
					},
					waypoints: { 
						10: { 
							id: 10, 
							title: "Sunnyside Queens", 
							body: "Queens NY.  From Flushing to Astori…", 
							x: 40.743, 
							y: -73.922, 
							post_id: 1, 
							route_id: 51, 
							date:  { year: 2016, month: 11, day: 23 } 
						}
					}
				}
			}
			*/

			for(var x in routes){
				var r = routes[x].route
				var wps = routes[x].waypoints
				var coverphoto = typeof r.coverphoto !== 'undefined' ? r.coverphoto.url : '<%= image_path("switzerland10.JPG").html_safe %>';
				var tlEvents = []

				for(var y in wps){
					var wp = wps[y]

					tlEvents.push({
						media: {
							url: '',
							caption: ''
						},
						start_date: {
							year:  wp.date.year,
							month: wp.date.month,
							day: 	 wp.date.day
						},
						text: {
							headline: wp.title,
							text:  		wp.body
						}
					});
				} // end r waypoints; ready to init timeline for r

				var tlData = {
					title: {
						media: {
							url: coverphoto,
							caption: ''
						},
						text: {
							headline: r.title,
							text: r.description
						}
					},
					events: tlEvents
				}

				var tlOpts = { timenav_height: 180 }

				indexer.push( new TL.Timeline('dm-timeline-'+r.id, tlData, tlOpts) );
			}
		},

		getTimeline: function(id){

		},

		getCurrentTimeline: function(){

		},

		getCurrentSlide: function(){

		},

		getCorrespondingRoute: function(id){

		},

		/* Setters */
		setTimeline: function(id, slide){

		}
	}	
}();